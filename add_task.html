<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="fonts.css">
    <script src="./mini_backend.js"></script>
    <script src="./script.js"></script>
    <script type="module" src="./backend.js"></script>
    <title>Add Task</title>
</head>
<body onload="init()">
    <div class="side_menu" w3-include-html="templates/side_menu.html"></div>
    <div class="header" w3-include-html="templates/header.html"></div>
    <div class="workspace">
        <button type="button" id="logout" name="logout" class="d-none"  >Logout</button>
        <div class="workspace-top-box">
            <h1>Add Task</h1>
        </div>
        <form class="form-tasks" onsubmit="createNewTask()" >
            <div class="add-task-content">

                <div class="left-form-box">
                    <label class="label-tasks" for="title">Title</label>
                    <input class="input-tasks" type="text" id="title" placeholder="Enter a title">
                    <label class="label-tasks" for="description">Description</label>
                    <textarea name="" id="description" cols="30" rows="10"></textarea>
                    <label class="label-tasks" for="category">Category</label>
                    <div id="newCategoryCont">
                        <select name="" id="category" onclick="activeCategory()" >
                            <option value="select-category" selected="true" disabled="disabled">Select task category</option>
                            <option value="new-category" >New category</option>
                            <option value="sales" >Sales</option>
                            <option value="backoffice" >Backoffice</option>
                        </select>
                        <input type="text" class="d-none" id="newCategory" placeholder="New category name">
                        <div id="input-icons" class="d-none">
                            <img onclick="cancelNewCategory()" id="closeIcon" src="./assets/img/close.svg" alt="">
                            <img onclick="addNewCategory()" id="doneIcon" src="./assets/img/done.svg" alt="">
                        </div>

                    </div>
                    <label class="label-tasks" for="assigned">Assigned to</label>
                    <div id="newContactCont">
                        <select name="" id="assigned" onclick="activeContact()">
                            <option selected="true" disabled="disabled">Select contacts to assign</option>
                            <option value="new-contact">Invite new contact</option>
                            <option value="you">You</option>
                            <option value="maxilian-vogel">Maximilian Vogel</option>
                        </select>
                        <input type="text" class="d-none" id="newContact" placeholder="Contact email">
                        <div id="img-icons" class="d-none">
                            <img onclick="cancelNewContact()" id="closeImg" src="./assets/img/close.svg" alt="">
                            <img onclick="addNewContact()" id="doneImg" src="./assets/img/done.svg" alt="">
                        </div>
                        

                    </div>
                </div>
                <div class="right-form-box">
                    <label class="label-tasks" for="dueDate">Due date</label>
                    <input class="input-tasks" type="date" id="dueDate">
                    <label class="label-tasks" for="priority">Prio</label>
                    <div id="priority">
                        <a onclick="activePriority(id, 'urgentImg')" id="urgent">Urgent <img id="urgentImg" src="./assets/img/urgent2.svg" alt=""></a>
                        <a onclick="activePriority(id, 'mediumImg')" id="medium">Medium <img id="mediumImg" src="./assets/img/medium.svg" alt=""></a>
                        <a onclick="activePriority(id, 'lowImg')" id="low">Low <img id="lowImg" src="./assets/img/low.svg" alt=""></a>
                    </div>
                    <label class="label-tasks" for="subtask">Subtasks</label>
                    <div id="subtasksCont">
                        <input class="input-tasks" type="text" id="subtask" placeholder="Add new subtask">
                        <img style="cursor: pointer" id="addSubtskIcon" src="./assets/img/plus.svg" alt="" onclick="activeSubtask()">
                        <div id="subtasks-icons" class="d-none">
                            <img onclick="cancelNewSubtask()" id="closeSub" src="./assets/img/close.svg" alt="">
                            <img onclick="addNewSubtask()" id="doneSub" src="./assets/img/done.svg" alt="">
                        </div>
                    </div>
                    <div id="subtasksBox">
                

                    </div>
    
                </div>
            </div>
            <div class="btns-form">
                <button id="clear">Clear</button>
                <button type="submit" id="createTask">Create Task</button>
            </div>
        </form>

    </div>

    
</body>
</html>